---
import type { ImageMetadata } from "astro";
import Button from "../../SocialButton.astro";
import github from "../../../../public/svg/github.svg";
import vercel from "../../../../public/svg/vercel_dark.svg";
import TechTag from "./TechTag.astro";

const {
  id,
  className,
  projectImgUrl,
  tecnologies,
  title,
  subtitle,
  description,
  codeUrl,
  previewUrl,
} = Astro.props;
---

<article
  id={id}
  class={`${className} flex flex-col lg:flex-row justify-center items-center lg:justify-start lg:items-start gap-10 my-20 mx-auto`}
>
  <div
    class="relative bg-black/20 lg:w-1/2 rounded-3xl overflow-hidden transition duration-500 hover:scale-105"
  >
    <img
      class="object-cover object-top w-full h-full md:scale-110"
      src={projectImgUrl}
      alt=""
    />
    <div
      id="skillsLabels"
      class="flex flex-row flex-wrap gap-3 absolute bottom-3 left-3"
    >
      {
        tecnologies.map(
          (item: { name: string; svg: ImageMetadata; color: string }) => (
            <TechTag text={item.name} svg={item.svg} color={item?.color} />
          )
        )
      }
    </div>
  </div>
  <div
    class="flex flex-col gap-5 lg:w-1/3 justify-center items-center lg:justify-start lg:items-start"
  >
    <h3 class="text-2xl">
      <span class="radient-animation font-italianno text-5xl"> {title} </span> -
      {subtitle}
    </h3>

    <p class="text-xl text-balance w-full opacity-70">{description}</p>
    <div id="linkButtons" class="flex flex-row flex-nowrap gap-3">
      {
        codeUrl ? (
          <Button text="Codice sorgente" svg={github} href={codeUrl} />
        ) : (
          ""
        )
      }
      <Button text="Live Preview" svg={vercel} href={previewUrl} />
    </div>
  </div>
</article>
