---
import NavBar from "./NavBar.astro";
import ChangeThemeButton from "./ChangeThemeButton.astro";
import MFLogo from "./MFLogo.astro";
---

<header
  {...Astro.props}
  class="hidden mx-auto md:flex flex-col gap-10 sm:gap sm:flex-row items-center w-full max-w-screen-lg sm:my-10 px-10 justify-between"
>
  <MFLogo />

  <NavBar
    class="navBar flex items-center justify-between sm:gap-2 w-auto lg:w-1/2 px-9 h-auto min-h-12"
  />

  <ChangeThemeButton />
</header>

<header
  {...Astro.props}
  class="md:hidden block bg-white/70 dark:bg-black/60 relative"
>
  <!-- HamburgerMenu -->
  <div class="flex flex-row items-center justify-between p-10">
    <ChangeThemeButton />

    <MFLogo />
    <button
      id="hamburgerButton"
      class="hamburger hamburger--vortex-r bg-black dark:bg-transparent"
      type="button"
    >
      <span class="hamburger-box">
        <span class="hamburger-inner"></span>
      </span>
    </button>
  </div>

  <NavBar
    id="hamburgerNavBar"
    class="hamburgerNav hidden flex-col items-center absolute z-10 w-full h-auto top-30 gap-10 py-10"
  />

  <!-- HamburgerMenu -->
</header>

<style>
  .navBar {
    background: rgba(0, 0, 0, 0.15);
    box-shadow: 0 8px 32px 0 rgba(255, 255, 255, 0.132);
    backdrop-filter: blur(7.5px);
    -webkit-backdrop-filter: blur(7.5px);
    border-radius: 3rem;
    border: 1px solid rgba(255, 255, 255, 0.18);
  }
  .hamburgerNav {
    background: rgba(0, 0, 0, 0.15);
    backdrop-filter: blur(15px);
    -webkit-backdrop-filter: blur(15px);
  }
</style>

<script is:inline>
  const hamburgerButton = document.querySelector("#hamburgerButton");
  const hamburgerNavBar = document.querySelector("#hamburgerNavBar");
  hamburgerButton.addEventListener("click", handleClick);

  function handleClick() {
    hamburgerButton.classList.toggle("is-active");
    hamburgerNavBar.classList.toggle("hidden");
    hamburgerNavBar.classList.toggle("flex");
    const navItems = document.querySelectorAll(".navItem");
    console.log(navItems);

    navItems.map((item) => {
      item.addEventListener("click", () => {
        hamburgerButton.classList.toggle("is-active");
        hamburgerNavBar.classList.toggle("hidden");
      });
    });
  }
</script>
